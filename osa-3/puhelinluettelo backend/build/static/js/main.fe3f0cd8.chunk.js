(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{19:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(14),u=n.n(a),o=n(3),r=(n(19),n(0)),i=function(e){var t=e.value,n=e.handleFilterChange;return Object(r.jsxs)("div",{children:["Filter: ",Object(r.jsx)("input",{onChange:n,value:t})]})},s=function(e){return Object(r.jsx)("div",{children:Object(r.jsxs)("form",{onSubmit:e.onSubmitButton,children:[Object(r.jsxs)("div",{children:["Name: ",Object(r.jsx)("input",{value:e.nameValue,onChange:e.onNameChange})]}),Object(r.jsxs)("div",{children:["Number: ",Object(r.jsx)("input",{value:e.numberValue,onChange:e.onNumberChange})]}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"sumbit",children:"Add"})})]})})},l=function(e){var t=e.persons;return Object(r.jsx)("div",{children:t.map((function(t,n){return Object(r.jsxs)("div",{children:[t.name," ",t.number," ",Object(r.jsx)("button",{onClick:e.deletePerson,value:t.id,children:"Delete"})]},n)}))})},j=function(e){var t=e.message;return null===t||""===t?null:Object(r.jsx)("div",{className:"goodMessage",children:t})},b=function(e){var t=e.message;return null===t||""===t?null:Object(r.jsx)("div",{className:"alertMessage",children:t})},d=n(4),f=n.n(d),h="http://localhost:3001/api/persons",O=function(e){return f.a.post(h,e).then((function(e){return e.data}))},m=function(){return f.a.get(h).then((function(e){return e.data}))},v=function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))},g=function(e,t){return f.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data}))},p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],u=Object(c.useState)(""),d=Object(o.a)(u,2),f=d[0],h=d[1],p=Object(c.useState)(""),x=Object(o.a)(p,2),C=x[0],w=x[1],N=Object(c.useState)(""),S=Object(o.a)(N,2),y=S[0],D=S[1],k=Object(c.useState)([]),P=Object(o.a)(k,2),V=P[0],A=P[1],B=Object(c.useState)(""),F=Object(o.a)(B,2),L=F[0],T=F[1],E=Object(c.useState)(""),I=Object(o.a)(E,2),J=I[0],M=I[1],R=function(e){T(e),setTimeout((function(){T("")}),3e3)},q=function(e){M(e),setTimeout((function(){M("")}),3e3)};Object(c.useEffect)((function(){m().then((function(e){a(e),A(e)}))}),[]);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Phonebook"}),Object(r.jsx)(j,{message:L}),Object(r.jsx)(b,{message:J}),Object(r.jsx)(i,{value:y,handleFilterChange:function(e){D(e.target.value);var t=e.target.value.toLowerCase();A(n.filter((function(e){return e.name.toLocaleLowerCase().includes(t)})))}}),Object(r.jsx)(s,{onSubmitButton:function(e){var t={name:"".concat(f),number:"".concat(C)};if(n.some((function(e){return e.name==="".concat(f)}))){if(e.preventDefault(),window.confirm("Do you want to replace ".concat(f,"'s number?"))){console.log("Replacing...",f);var c=n.filter((function(e){return e.name===f}))[0],u=c.id,o=n.indexOf(c);console.log(o),g(u,t).then((function(e){n.splice(o,1,e);console.log(n),h(""),w(""),D(""),R("Number was changed.")})).catch((function(e){q("This contact no longer exists. Please refresh the page.")}))}}else e.preventDefault(),O(t).then((function(e){a(n.concat(e)),A(n.concat(e)),R("Added ".concat(f))})).catch((function(e){q("".concat(e.response.data.error))})),h(""),w(""),D("")},nameValue:f,onNameChange:function(e){h(e.target.value)},numberValue:C,onNumberChange:function(e){w(e.target.value)}}),Object(r.jsx)("h2",{children:"Numbers"}),Object(r.jsx)(l,{persons:V,deletePerson:function(e){var t=e.target.value;if(window.confirm("Are you sure you want to delete this contact?")){console.log(t);var c=n.filter((function(e){return e.id!==parseInt(t)}));a(c),A(c),v(t).then((function(e){R("Deleted successfully.")}))}}})]})};u.a.render(Object(r.jsx)(p,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.fe3f0cd8.chunk.js.map